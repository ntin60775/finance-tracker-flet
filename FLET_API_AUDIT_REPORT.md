# –û—Ç—á—ë—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ Flet API

**–î–∞—Ç–∞:** 21 –¥–µ–∫–∞–±—Ä—è 2025  
**–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è Flet:** >= 0.25.0 (–ø—Ä–æ–µ–∫—Ç), –∞–∫—Ç—É–∞–ª—å–Ω–∞—è v0.28.3

## –†–µ–∑—é–º–µ

–ü—Ä–æ–≤–µ–¥–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ Flet API. –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã **–¥–≤–∞ —Å–ø–æ—Å–æ–±–∞ —Ä–∞–±–æ—Ç—ã —Å –¥–∏–∞–ª–æ–≥–∞–º–∏** –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º Flet, –æ–±–∞ —è–≤–ª—è—é—Ç—Å—è –≤–∞–ª–∏–¥–Ω—ã–º–∏.

## –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Flet API –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ page.dialog (–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π)

```python
def open_dialog(e):
    page.dialog = dialog  # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–∏–∞–ª–æ–≥
    dialog.open = True     # –û—Ç–∫—Ä—ã–≤–∞–µ–º
    page.update()          # –û–±–Ω–æ–≤–ª—è–µ–º UI

def close_dialog(e):
    dialog.open = False
    page.update()
```

**–ò—Å—Ç–æ—á–Ω–∏–∫:** [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Flet](https://flet.dev/docs/controls/alertdialog/)  
**–ü—Ä–∏–º–µ—Ä—ã:** [StackOverflow - Change color of AlertDialog](https://stackoverflow.com/questions/75512674/change-color-of-alertdialog-in-flet)

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ page.open() (—É–ø—Ä–æ—â—ë–Ω–Ω—ã–π)

```python
def open_dialog(e):
    page.open(dialog)  # –û—Ç–∫—Ä—ã–≤–∞–µ–º –¥–∏–∞–ª–æ–≥ –Ω–∞–ø—Ä—è–º—É—é

def close_dialog(e):
    page.close(dialog)  # –ó–∞–∫—Ä—ã–≤–∞–µ–º –¥–∏–∞–ª–æ–≥
```

**–ò—Å—Ç–æ—á–Ω–∏–∫:** [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Flet](https://flet.dev/docs/controls/alertdialog/)  
> "To open this control, simply call the page.open() helper-method."

## –°—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞

### ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API

–í—Å–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç **—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Flet API**:

1. **`tests/ui_test_helpers.py`** ‚úÖ
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `page.open()` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è –¥–∏–∞–ª–æ–≥–æ–≤
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `page.close()` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–∫—Ä—ã—Ç–∏—è
   - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `ft.SnackBar` —á–µ—Ä–µ–∑ `page.open()`

2. **`tests/test_view_base.py`** ‚úÖ
   - –°–æ–∑–¥–∞—ë—Ç mock —Å –º–µ—Ç–æ–¥–∞–º–∏ `page.open()` –∏ `page.close()`
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∏–∞–ª–æ–≥–æ–≤

3. **`tests/test_transaction_modal.py`** ‚úÖ
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `dialog.open` –∞—Ç—Ä–∏–±—É—Ç (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `page.update()` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI
   - –í—Å–µ —Ç–µ—Å—Ç—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º—É API

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

#### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
```python
def assert_modal_opened(page_mock: MagicMock, modal_type: Optional[type] = None):
    page_mock.open.assert_called()  # ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π API
    
    if modal_type is not None:
        call_args = page_mock.open.call_args
        if call_args and call_args[0]:
            opened_dialog = call_args[0][0]
            assert isinstance(opened_dialog, modal_type)
```

#### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ: –ü—Ä–æ–≤–µ—Ä–∫–∞ SnackBar
```python
def assert_snackbar_shown(page_mock: MagicMock, message_contains: Optional[str] = None):
    page_mock.open.assert_called()  # ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π API
    
    for call in page_mock.open.call_args_list:
        if call[0]:
            arg = call[0][0]
            if isinstance(arg, ft.SnackBar):  # ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞
                # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
```

#### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ: Mock Page –æ–±—ä–µ–∫—Ç–∞
```python
def create_mock_page(self) -> MagicMock:
    page = MagicMock(spec=ft.Page)
    page.overlay = []
    page.dialog = None
    page.update = MagicMock()
    page.open = MagicMock()    # ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥
    page.close = MagicMock()   # ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥
    return page
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –û–±–∞ —Å–ø–æ—Å–æ–±–∞ –≤–∞–ª–∏–¥–Ω—ã

–í –ø—Ä–æ–µ–∫—Ç–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–ª—é–±–æ–π –∏–∑ –¥–≤—É—Ö —Å–ø–æ—Å–æ–±–æ–≤**:
- `page.dialog = dialog; dialog.open = True; page.update()` - –±–æ–ª–µ–µ —è–≤–Ω—ã–π
- `page.open(dialog)` - –±–æ–ª–µ–µ –ª–∞–∫–æ–Ω–∏—á–Ω—ã–π

### 2. Consistency (–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –í—ã–±—Ä–∞—Ç—å –æ–¥–∏–Ω –ø–æ–¥—Ö–æ–¥ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤–µ–∑–¥–µ.

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–ø–µ—Ä–≤—ã–π –ø–æ–¥—Ö–æ–¥** (—á–µ—Ä–µ–∑ `page.dialog`), —á—Ç–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

### 3. –¢–µ—Å—Ç—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–µ–∞–ª—å–Ω–æ–º—É –∫–æ–¥—É

–¢–µ—Å—Ç—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –º–æ–∫–∏—Ä—É—é—Ç –æ–±–∞ –º–µ—Ç–æ–¥–∞:
- `page.open()` - –¥–ª—è —É–ø—Ä–æ—â—ë–Ω–Ω–æ–≥–æ API
- `page.dialog` + `dialog.open` + `page.update()` - –¥–ª—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–≥–æ API

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—Ä—É–≥–∏—Ö Flet –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### ‚úÖ Colors API

–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤:
```python
# ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ü–≤–µ—Ç–∞
ft.Colors.SURFACE
ft.Colors.PRIMARY
ft.Colors.ERROR
ft.Colors.ON_SURFACE

# ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –ù–ï —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ Flet
# ft.Colors.SURFACE_VARIANT  
# ft.Colors.SURFACE_CONTAINER
```

**–°—Ç–∞—Ç—É—Å:** –í steering —Ñ–∞–π–ª–∞—Ö —É–∂–µ –µ—Å—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Ü–≤–µ—Ç–∞—Ö.

### ‚úÖ Button Types

–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–æ–∫:
```python
ft.ElevatedButton()  # ‚úÖ –°—É—â–µ—Å—Ç–≤—É–µ—Ç
ft.IconButton()      # ‚úÖ –°—É—â–µ—Å—Ç–≤—É–µ—Ç
ft.TextButton()      # ‚úÖ –°—É—â–µ—Å—Ç–≤—É–µ—Ç
ft.FilledButton()    # ‚úÖ –°—É—â–µ—Å—Ç–≤—É–µ—Ç (–Ω–æ–≤—ã–π –≤ Flet)
```

### ‚úÖ TextField –∏ Dropdown

```python
ft.TextField(
    keyboard_type=ft.KeyboardType.NUMBER  # ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π API
)

ft.Dropdown(
    options=[ft.dropdown.Option(...)]  # ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π API
)
```

## –í—ã–≤–æ–¥—ã

### ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Flet API

–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç** —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º—É Flet API (v0.25.0+).

### ‚úÖ –ù–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –º–µ—Ç–æ–¥–æ–≤

–ù–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è deprecated –∏–ª–∏ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –º–µ—Ç–æ–¥–æ–≤ Flet.

### ‚úÖ Mock –æ–±—ä–µ–∫—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

–í—Å–µ mock –æ–±—ä–µ–∫—Ç—ã –¥–ª—è `ft.Page` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–º–∏—Ç–∏—Ä—É—é—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π API.

## –î–µ–π—Å—Ç–≤–∏—è

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

1. –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª–∞ –æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º Flet API –≤ `.kiro/steering/tech.md`
2. –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª–∞ –æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º Flet API –≤ `.kiro/steering/ui-testing.md`
3. –ü—Ä–æ–≤–µ–¥—ë–Ω –∞—É–¥–∏—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤

### üìã –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

1. **–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å API** –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ Flet
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Context7** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
3. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥** (page.dialog vs page.open) –≤ steering —Ñ–∞–π–ª–∞—Ö

## –ò—Å—Ç–æ—á–Ω–∏–∫–∏

1. [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Flet - AlertDialog](https://flet.dev/docs/controls/alertdialog/)
2. [StackOverflow - How to display AlertDialog in Flet](https://stackoverflow.com/questions/77711086/how-to-display-alertdialog-in-flet)
3. [StackOverflow - Change color of AlertDialog in Flet](https://stackoverflow.com/questions/75512674/change-color-of-alertdialog-in-flet)
4. [Context7 - Flet v0.28.3 Documentation](https://context7.com/flet-dev/flet/)

---

**–ó–∞–∫–ª—é—á–µ–Ω–∏–µ:** –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Flet API. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.
