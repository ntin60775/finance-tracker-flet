# Requirements Document

## Introduction

Исправление неработающей кнопки "Показать все" в виджете плановых транзакций на главном экране. В настоящее время кнопка отображается, но при нажатии ничего не происходит, так как метод `on_show_all_occurrences` в HomeView содержит только TODO комментарий без реализации.

## Glossary

- **HomeView**: Главный экран приложения с календарём, виджетами и панелью транзакций
- **PlannedTransactionsWidget**: Виджет на главном экране, отображающий ближайшие 5 плановых транзакций
- **MainWindow**: Главное окно приложения с навигацией между разделами
- **PlannedTransactionsView**: Полный раздел со всеми плановыми транзакциями (индекс навигации = 1)
- **Navigation_Rail**: Боковая панель навигации в MainWindow

## Requirements

### Requirement 1: Реализация навигации при нажатии кнопки "Показать все"

**User Story:** Как пользователь, я хочу перейти к полному списку плановых транзакций при нажатии кнопки "Показать все" в виджете на главном экране, чтобы увидеть все плановые транзакции, а не только ближайшие 5.

#### Acceptance Criteria

1. WHEN пользователь нажимает кнопку "Показать все" в PlannedTransactionsWidget THEN система SHALL переключить активный раздел на PlannedTransactionsView (индекс навигации = 1)
2. WHEN происходит переключение раздела THEN система SHALL обновить выбранный индекс в Navigation_Rail
3. WHEN происходит переключение раздела THEN система SHALL отобразить PlannedTransactionsView в области контента
4. WHEN происходит переключение раздела THEN система SHALL сохранить новый индекс в настройках приложения

### Requirement 2: Доступ к навигации из HomeView

**User Story:** Как разработчик, я хочу, чтобы HomeView имел доступ к методу навигации MainWindow, чтобы можно было программно переключать разделы приложения.

#### Acceptance Criteria

1. WHEN HomeView инициализируется THEN система SHALL передать ссылку на метод navigate из MainWindow
2. WHEN HomeView вызывает метод навигации THEN система SHALL корректно переключить раздел через MainWindow
3. WHEN метод навигации вызывается с индексом раздела THEN система SHALL обновить UI и сохранить состояние

### Requirement 3: Обработка ошибок навигации

**User Story:** Как пользователь, я хочу, чтобы приложение корректно обрабатывало ошибки при навигации, чтобы не столкнуться с неожиданным поведением.

#### Acceptance Criteria

1. IF метод навигации не передан в HomeView THEN система SHALL логировать предупреждение и не выполнять переключение
2. IF происходит ошибка при навигации THEN система SHALL логировать ошибку с полным контекстом
3. WHEN навигация недоступна THEN кнопка "Показать все" SHALL оставаться видимой, но не вызывать ошибок при нажатии
